<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Machine</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>

        <div class="container">
            <div class="header clearfix">                  
                <h3 class="text-muted">Machine</h3>
            </div>
                        
            <div class="row marketing">
                <div class="col-lg-7">
                    <table class="table" id="list"> 
                        <thead> 
                            <tr> 
                                <th>Code</th> 
                                <th>Name</th>
                                <th>Department</th> 
                                <th>Product</th>
                                <th>Last Man.</th>
                                <th>Next Man.</th>
                            </tr> 
                        </thead> 
                        <tbody>                                                                                                                                                                                         
                        </tbody> 
                    </table>
                </div>
                <div class="col-lg-5">
                    <form action="/api/machine" method="post">

                        <div class="form-group">
                            <label for="token">Token</label>
                            <input type="text" class="form-control" id="token" name="token" placeholder="Token">
                        </div>                        
                        <div class="form-group">
                            <label for="code">Code</label>
                            <input type="text" class="form-control" id="code" name="code" placeholder="Code">
                        </div>
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" id="name" name="name" placeholder="Name">
                        </div>
                        <div class="form-group">
                            <label for="department">Department</label>
                            <input type="text" class="form-control" id="department" name="department" placeholder="Department">
                        </div>  
                        <div class="form-group">
                            <label for="product">Product</label>
                            <input type="text" class="form-control" id="product" name="product" placeholder="Product">
                        </div>                                               
                        <div class="form-group">
                            <label for="last_maintenance">Last Maintenance</label>
                            <input type="date" class="form-control" id="last_maintenance" name="last_maintenance" placeholder="Last Maintenance">
                        </div>     
                        <div class="form-group">
                            <label for="next_maintenance">Next Maintenance</label>
                            <input type="date" class="form-control" id="next_maintenance" name="next_maintenance" placeholder="Next Maintenance">
                        </div>                     
                        <button type="submit" class="btn btn-default">Submit</button>
                    </form>               
                </div>
            </div>
            
            <footer class="footer">
                <br/>
                <p>&copy; StartMeUp!</p>
            </footer>
            
        </div> <!-- /container -->    

        <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>

        <script>
            $.get("/api/machine/list", function(data) {
                $(data).each(function (index, machine) { 
                    var row = "<tr>";
                    row += "<td>" + machine.code + "</td>";
                    row += "<td>" + machine.name + "</td>";
                    row += "<td>" + machine.department + "</td>";
                    row += "<td>" + machine.product + "</td>";
                    row += "<td>" + machine.last_maintenance + "</td>";
                    row += "<td>" + machine.next_maintenance + "</td>";
                    row += "</tr>";
                    $("#list tbody").append(row);                     
                });                
            });        
        </script>
  </body>
</html>

